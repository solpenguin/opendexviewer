<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <title>Submit Content - OpenDex</title>
  <meta name="description" content="Submit banners and social links for tokens - completely free">
  <meta name="theme-color" content="#07080a">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header class="header">
    <div class="header-content">
      <a href="/" class="logo">
        <svg width="28" height="28" viewBox="0 0 32 32" fill="none">
          <rect width="32" height="32" rx="8" fill="url(#logo-gradient)"/>
          <path d="M10 16L14 12L18 16L22 12" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M10 20L14 16L18 20L22 16" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.5"/>
          <defs>
            <linearGradient id="logo-gradient" x1="0" y1="0" x2="32" y2="32">
              <stop stop-color="#6366f1"/>
              <stop offset="1" stop-color="#a855f7"/>
            </linearGradient>
          </defs>
        </svg>
        <span class="logo-text">OpenDex</span>
        <span class="logo-badge">Beta</span>
      </a>

      <nav class="nav">
        <a href="/" class="nav-link">Tokens</a>
        <a href="submit.html" class="nav-link active">Submit</a>
      </nav>

      <div class="header-actions">
        <button id="connect-wallet" class="btn">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="5" width="20" height="14" rx="2"/>
            <path d="M16 14a2 2 0 100-4 2 2 0 000 4z"/>
          </svg>
          Connect Wallet
        </button>
      </div>
    </div>
  </header>

  <main class="main submit-page">
    <section class="submit-hero">
      <div class="submit-hero-icon">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
          <polyline points="17 8 12 3 7 8"/>
          <line x1="12" y1="3" x2="12" y2="15"/>
        </svg>
      </div>
      <h1>Submit Token Content</h1>
      <p>Add banners and social links for tokens you hold - <strong>completely free</strong>.</p>
      <div class="submit-features">
        <div class="submit-feature">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          <span>Free Forever</span>
        </div>
        <div class="submit-feature">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
            <circle cx="9" cy="7" r="4"/>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
          </svg>
          <span>Community Voted</span>
        </div>
        <div class="submit-feature">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          </svg>
          <span>Holder Verified</span>
        </div>
      </div>
    </section>

    <section class="submit-form-section submit-form-section-enhanced">
      <div class="submit-layout">
        <!-- Left Side: Form -->
        <div class="submit-form-container">
          <form id="submit-form" class="submit-form">
            <!-- Step 0: Wallet Connection (Required) -->
            <div class="form-group wallet-required-section" id="wallet-connect-section">
              <div class="wallet-required-card">
                <div class="wallet-required-icon">
                  <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="5" width="20" height="14" rx="2"/>
                    <path d="M16 14a2 2 0 100-4 2 2 0 000 4z"/>
                  </svg>
                </div>
                <h3>Connect Your Wallet</h3>
                <p>You must hold the token to submit content for it.</p>
                <button type="button" id="connect-wallet-main" class="btn btn-primary btn-large">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="5" width="20" height="14" rx="2"/>
                    <path d="M16 14a2 2 0 100-4 2 2 0 000 4z"/>
                  </svg>
                  Connect Wallet
                </button>
              </div>
            </div>

            <!-- Wallet Connected Card (shown after connecting) -->
            <div class="form-group wallet-connected-section" id="wallet-connected-section" style="display: none;">
              <div class="wallet-connected-card">
                <div class="wallet-connected-header">
                  <div class="wallet-connected-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <polyline points="20 6 9 17 4 12"/>
                    </svg>
                  </div>
                  <div class="wallet-connected-info">
                    <span class="wallet-label">Wallet Connected</span>
                    <span id="connected-wallet-address" class="wallet-address">...</span>
                  </div>
                  <button type="button" id="disconnect-wallet-btn" class="btn btn-ghost btn-sm">
                    Disconnect
                  </button>
                </div>
              </div>
              <input type="hidden" id="submitter-wallet" name="submitterWallet" value="">
            </div>

            <!-- Token Selection -->
            <div class="form-group" id="token-selection-group">
              <label for="token-mint">
                Token Address (Mint)
                <span class="required">*</span>
              </label>
              <div class="input-with-validation">
                <input
                  type="text"
                  id="token-mint"
                  name="tokenMint"
                  placeholder="Enter Solana token mint address..."
                  required
                  autocomplete="off"
                >
                <div class="input-status" id="token-status"></div>
              </div>
              <div id="token-preview" class="token-preview-card" style="display: none;">
                <img id="preview-logo" class="preview-logo" src="" alt="">
                <div class="preview-info">
                  <span id="preview-name" class="preview-name">Token Name</span>
                  <span id="preview-symbol" class="preview-symbol">SYMBOL</span>
                </div>
                <div class="preview-badge">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="20 6 9 17 4 12"/>
                  </svg>
                  Token Found
                </div>
              </div>

              <!-- Holder Verification Card -->
              <div id="holder-verification" class="holder-verification-card" style="display: none;">
                <div class="holder-verification-loading" id="holder-loading">
                  <div class="loading-spinner small"></div>
                  <span>Checking your balance...</span>
                </div>
                <div class="holder-verification-result" id="holder-result" style="display: none;">
                  <div class="holder-status" id="holder-status">
                    <span class="holder-status-icon" id="holder-status-icon"></span>
                    <span class="holder-status-text" id="holder-status-text"></span>
                  </div>
                  <div class="holder-balance" id="holder-balance-info">
                    <div class="balance-row">
                      <span class="balance-label">Your Balance:</span>
                      <span class="balance-value" id="holder-balance">0</span>
                    </div>
                    <div class="balance-row">
                      <span class="balance-label">Share of Supply:</span>
                      <span class="balance-value" id="holder-percentage">0%</span>
                    </div>
                  </div>
                </div>
              </div>

              <p id="token-error" class="form-error" style="display: none;"></p>
            </div>

            <!-- All Submission Types Grid -->
            <div class="form-group submission-types-section">
              <label>Add Content <span class="label-hint">(fill in any you want to submit)</span></label>

              <div class="submission-types-grid">
                <!-- Banner Submission -->
                <div class="submission-type-card" data-type="banner">
                  <div class="submission-type-header">
                    <div class="submission-type-icon banner">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <polyline points="21 15 16 10 5 21"/>
                      </svg>
                    </div>
                    <div class="submission-type-info">
                      <h4>Banner Image</h4>
                      <p>1200x300px recommended</p>
                    </div>
                    <button type="button" class="btn btn-ghost btn-xs help-btn" id="imgur-help-btn" title="How to upload">?</button>
                  </div>
                  <div class="submission-type-input">
                    <input type="url" id="banner-url" name="bannerUrl" placeholder="https://i.imgur.com/example.png" autocomplete="off">
                    <div class="input-status" id="banner-status"></div>
                  </div>
                  <div id="banner-preview-mini" class="banner-preview-mini" style="display: none;">
                    <img id="banner-preview-img" src="" alt="Banner preview">
                    <div class="banner-preview-overlay">
                      <div class="loading-spinner small"></div>
                    </div>
                  </div>
                </div>

                <!-- Twitter/X -->
                <div class="submission-type-card" data-type="twitter">
                  <div class="submission-type-header">
                    <div class="submission-type-icon twitter">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                      </svg>
                    </div>
                    <div class="submission-type-info">
                      <h4>Twitter / X</h4>
                      <p>Official account link</p>
                    </div>
                  </div>
                  <div class="submission-type-input">
                    <input type="url" id="twitter-url" name="twitterUrl" placeholder="https://twitter.com/yourtoken" autocomplete="off">
                    <div class="input-status" id="twitter-status"></div>
                  </div>
                </div>

                <!-- Telegram -->
                <div class="submission-type-card" data-type="telegram">
                  <div class="submission-type-header">
                    <div class="submission-type-icon telegram">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.03-1.99 1.27-5.62 3.72-.53.36-1.01.54-1.44.53-.47-.01-1.38-.27-2.06-.49-.83-.27-1.49-.42-1.43-.88.03-.24.37-.49 1.02-.74 3.99-1.74 6.65-2.89 7.99-3.45 3.8-1.6 4.59-1.88 5.1-1.89.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"/>
                      </svg>
                    </div>
                    <div class="submission-type-info">
                      <h4>Telegram</h4>
                      <p>Community group link</p>
                    </div>
                  </div>
                  <div class="submission-type-input">
                    <input type="url" id="telegram-url" name="telegramUrl" placeholder="https://t.me/yourtoken" autocomplete="off">
                    <div class="input-status" id="telegram-status"></div>
                  </div>
                </div>

                <!-- Discord -->
                <div class="submission-type-card" data-type="discord">
                  <div class="submission-type-header">
                    <div class="submission-type-icon discord">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                      </svg>
                    </div>
                    <div class="submission-type-info">
                      <h4>Discord</h4>
                      <p>Server invite link</p>
                    </div>
                  </div>
                  <div class="submission-type-input">
                    <input type="url" id="discord-url" name="discordUrl" placeholder="https://discord.gg/yourtoken" autocomplete="off">
                    <div class="input-status" id="discord-status"></div>
                  </div>
                </div>

                <!-- Website -->
                <div class="submission-type-card" data-type="website">
                  <div class="submission-type-header">
                    <div class="submission-type-icon website">
                      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <line x1="2" y1="12" x2="22" y2="12"/>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                      </svg>
                    </div>
                    <div class="submission-type-info">
                      <h4>Website</h4>
                      <p>Official website link</p>
                    </div>
                  </div>
                  <div class="submission-type-input">
                    <input type="url" id="website-url" name="websiteUrl" placeholder="https://yourtoken.com" autocomplete="off">
                    <div class="input-status" id="website-status"></div>
                  </div>
                </div>
              </div>

              <div class="submission-count-indicator">
                <span id="filled-count">0</span> of 5 fields filled
              </div>
            </div>

            <!-- Submit Button -->
            <div class="form-actions">
              <button type="submit" id="submit-btn" class="btn btn-primary btn-large" disabled>
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                  <polyline points="17 8 12 3 7 8"/>
                  <line x1="12" y1="3" x2="12" y2="15"/>
                </svg>
                <span id="submit-btn-text">Submit for Community Review</span>
              </button>
              <p class="form-status" id="form-status"></p>
            </div>

            <p class="form-disclaimer">
              By submitting, you confirm that you have the right to share this content
              and it follows our <a href="#" class="link">community guidelines</a>.
            </p>
          </form>
        </div>

        <!-- Right Side: Live Preview -->
        <div class="submit-preview-container" id="submit-preview-container">
          <div class="preview-header">
            <h3>
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
              Live Preview
            </h3>
            <span class="preview-hint">See how your content will appear</span>
          </div>

          <div class="preview-content" id="preview-content">
            <div class="preview-placeholder" id="preview-placeholder">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                <circle cx="8.5" cy="8.5" r="1.5"/>
                <polyline points="21 15 16 10 5 21"/>
              </svg>
              <p>Enter a token address to see the preview</p>
            </div>

            <div class="preview-token-page" id="preview-token-page" style="display: none;">
              <!-- Mini Token Header -->
              <div class="preview-token-header">
                <img id="preview-token-logo" class="preview-token-logo" src="" alt="">
                <div class="preview-token-info">
                  <span id="preview-token-name" class="preview-token-name">Token Name</span>
                  <span id="preview-token-symbol" class="preview-token-symbol">SYMBOL</span>
                </div>
              </div>

              <!-- Preview Community Section -->
              <div class="preview-community-section">
                <div class="preview-section-title">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="14" height="14">
                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                    <circle cx="9" cy="7" r="4"></circle>
                    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                  </svg>
                  Community
                </div>

                <!-- Banner Preview Area -->
                <div class="preview-banner-area" id="preview-banner-area">
                  <img id="preview-banner-img" class="preview-banner-img" src="" alt="Banner" style="display: none;">
                  <div class="preview-banner-placeholder" id="preview-banner-placeholder">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                      <circle cx="8.5" cy="8.5" r="1.5"/>
                      <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    <span>Banner will appear here</span>
                  </div>
                </div>

                <!-- Social Links Preview -->
                <div class="preview-social-links" id="preview-social-links">
                  <div class="preview-link-chip twitter" id="preview-twitter-chip" style="display: none;">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="12" height="12">
                      <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                    <span>Twitter / X</span>
                  </div>
                  <div class="preview-link-chip telegram" id="preview-telegram-chip" style="display: none;">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="12" height="12">
                      <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69.01-.03.01-.14-.07-.2-.08-.06-.19-.04-.27-.02-.12.03-1.99 1.27-5.62 3.72-.53.36-1.01.54-1.44.53-.47-.01-1.38-.27-2.06-.49-.83-.27-1.49-.42-1.43-.88.03-.24.37-.49 1.02-.74 3.99-1.74 6.65-2.89 7.99-3.45 3.8-1.6 4.59-1.88 5.1-1.89.11 0 .37.03.54.17.14.12.18.28.2.45-.01.06.01.24 0 .38z"/>
                    </svg>
                    <span>Telegram</span>
                  </div>
                  <div class="preview-link-chip discord" id="preview-discord-chip" style="display: none;">
                    <svg viewBox="0 0 24 24" fill="currentColor" width="12" height="12">
                      <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028c.462-.63.874-1.295 1.226-1.994a.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"/>
                    </svg>
                    <span>Discord</span>
                  </div>
                  <div class="preview-link-chip website" id="preview-website-chip" style="display: none;">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="12" height="12">
                      <circle cx="12" cy="12" r="10"/>
                      <line x1="2" y1="12" x2="22" y2="12"/>
                      <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
                    </svg>
                    <span>Website</span>
                  </div>
                  <div class="preview-empty-links" id="preview-empty-links">
                    <span>Social links will appear here</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- My Submissions -->
    <section class="my-submissions-section" id="my-submissions-section">
      <div class="section-header">
        <h2>My Submissions</h2>
        <span id="my-submissions-count" class="submissions-count">0 submissions</span>
      </div>
      <div id="my-submissions" class="my-submissions">
        <div class="empty-submissions">
          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/>
            <path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/>
            <path d="M18 12a2 2 0 0 0 0 4h4v-4z"/>
          </svg>
          <p>Connect your wallet to see your submissions</p>
          <button type="button" id="connect-wallet-submissions" class="btn btn-secondary">
            Connect Wallet
          </button>
        </div>
      </div>
    </section>

    <!-- How Voting Works Section -->
    <section class="about-section how-it-works-section">
      <div class="about-header">
        <div class="about-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"/>
          </svg>
        </div>
        <h2>How Voting & Approval Works</h2>
        <p>Community-driven content moderation ensures quality and authenticity</p>
      </div>

      <div class="process-steps">
        <div class="process-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Submit Content</h3>
            <p>Token holders can submit banners and social links for any token they hold. You must have a balance of the token in your connected wallet to submit content for it.</p>
          </div>
        </div>

        <div class="process-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Community Review Period</h3>
            <p>After submission, content enters a review period where other token holders can vote. The review period lasts a minimum of <strong>30 minutes</strong> to allow the community time to evaluate submissions.</p>
          </div>
        </div>

        <div class="process-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Weighted Voting</h3>
            <p>Votes are weighted based on your token holdings. Larger holders have more influence, but all holders with at least <strong>0.01%</strong> of the supply can vote. This prevents spam while giving the community control.</p>
            <div class="voting-tiers">
              <div class="tier">
                <span class="tier-range">0.01% - 0.1%</span>
                <span class="tier-weight">1x weight</span>
              </div>
              <div class="tier">
                <span class="tier-range">0.1% - 1%</span>
                <span class="tier-weight">2x weight</span>
              </div>
              <div class="tier">
                <span class="tier-range">1% - 5%</span>
                <span class="tier-weight">3x weight</span>
              </div>
              <div class="tier">
                <span class="tier-range">5%+</span>
                <span class="tier-weight">5x weight</span>
              </div>
            </div>
          </div>
        </div>

        <div class="process-step">
          <div class="step-number">4</div>
          <div class="step-content">
            <h3>Auto-Approval & Rejection</h3>
            <p>Content is automatically approved when it reaches a weighted score of <strong>+10</strong>, or automatically rejected at <strong>-5</strong>. This ensures popular content appears quickly while spam is removed.</p>
            <div class="threshold-indicators">
              <div class="threshold approve">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>+10 = Auto-Approve</span>
              </div>
              <div class="threshold reject">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="18" y1="6" x2="6" y2="18"/>
                  <line x1="6" y1="6" x2="18" y2="18"/>
                </svg>
                <span>-5 = Auto-Reject</span>
              </div>
            </div>
          </div>
        </div>

        <div class="process-step">
          <div class="step-number">5</div>
          <div class="step-content">
            <h3>Content Goes Live</h3>
            <p>Once approved, your banner or social link appears on the token's page for everyone to see. The highest-voted content is displayed prominently, and the community can continue voting to surface the best submissions.</p>
          </div>
        </div>
      </div>
    </section>

    <!-- About OpenDex Section -->
    <section class="about-section about-opendex-section">
      <div class="about-header">
        <div class="about-icon opendex">
          <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
            <rect width="32" height="32" rx="8" fill="url(#about-logo-gradient)"/>
            <path d="M10 16L14 12L18 16L22 12" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10 20L14 16L18 20L22 16" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" opacity="0.5"/>
            <defs>
              <linearGradient id="about-logo-gradient" x1="0" y1="0" x2="32" y2="32">
                <stop stop-color="#6366f1"/>
                <stop offset="1" stop-color="#a855f7"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h2>About OpenDex</h2>
        <p>A free, open-source token viewer built for the Solana community</p>
      </div>

      <div class="about-content">
        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"/>
              <line x1="12" y1="8" x2="12" y2="12"/>
              <line x1="12" y1="16" x2="12.01" y2="16"/>
            </svg>
          </div>
          <h3>What is OpenDex?</h3>
          <p>OpenDex is a free, community-driven token viewer for the Solana blockchain. Unlike other platforms that charge for listings or features, OpenDex is completely free to use. We aggregate data from Jupiter, DexScreener, and on-chain sources to provide comprehensive token information.</p>
        </div>

        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
              <circle cx="9" cy="7" r="4"/>
              <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
            </svg>
          </div>
          <h3>Community-Driven</h3>
          <p>Token communities can submit and vote on banners, social links, and other content. No centralized authority decides what gets shown - the community does. Holders vote on submissions, with voting power weighted by token ownership to prevent spam while ensuring all voices are heard.</p>
        </div>

        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
            </svg>
          </div>
          <h3>Holder Verification</h3>
          <p>Only verified token holders can submit content and vote. This is enforced both client-side and server-side by checking on-chain balances via Solana RPC. This ensures that only people with skin in the game can influence what content is shown for a token.</p>
        </div>

        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
            </svg>
          </div>
          <h3>Open Source</h3>
          <p>OpenDex is fully open source. You can view the code, report issues, or contribute on <a href="https://github.com/SolPenguin/opendexviewer" target="_blank" class="link">GitHub</a>. We believe in transparency and community ownership of the tools we use.</p>
        </div>

        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="12" y1="1" x2="12" y2="23"/>
              <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
            </svg>
          </div>
          <h3>Free Forever</h3>
          <p>There are no listing fees, no premium tiers, no paid promotions. OpenDex is and will remain free for everyone. Our goal is to provide useful tools for the Solana community, not to extract value from it.</p>
        </div>

        <div class="about-card">
          <div class="about-card-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
              <line x1="8" y1="21" x2="16" y2="21"/>
              <line x1="12" y1="17" x2="12" y2="21"/>
            </svg>
          </div>
          <h3>Real-Time Data</h3>
          <p>Token prices, market caps, volumes, and holder counts are fetched in real-time from Jupiter aggregator and on-chain data. Price charts show historical OHLC data with multiple timeframes. All data is refreshed automatically to keep you up to date.</p>
        </div>
      </div>

      <div class="about-cta">
        <a href="/" class="btn btn-primary btn-large">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
          </svg>
          Explore Tokens
        </a>
        <a href="https://github.com/SolPenguin/opendexviewer" target="_blank" class="btn btn-secondary btn-large">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
          </svg>
          View on GitHub
        </a>
      </div>
    </section>

    <!-- Developer API Section -->
    <section class="about-section api-section" id="api-section">
      <div class="about-header">
        <div class="about-icon api">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="16 18 22 12 16 6"/>
            <polyline points="8 6 2 12 8 18"/>
          </svg>
        </div>
        <h2>Developer API</h2>
        <p>Access community content programmatically for your apps and tools</p>
      </div>

      <!-- API Key Management -->
      <div class="api-key-section">
        <h3>Your API Key</h3>
        <p class="api-key-description">Register for a free API key to access community content (banners, social links) for any token. One key per wallet.</p>

        <!-- Not connected state -->
        <div id="api-key-connect" class="api-key-card">
          <div class="api-key-card-content">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="2" y="5" width="20" height="14" rx="2"/>
              <path d="M16 14a2 2 0 100-4 2 2 0 000 4z"/>
            </svg>
            <p>Connect your wallet to manage your API key</p>
            <button type="button" id="connect-wallet-api" class="btn btn-secondary">Connect Wallet</button>
          </div>
        </div>

        <!-- Has no key state -->
        <div id="api-key-register" class="api-key-card" style="display: none;">
          <div class="api-key-card-content">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/>
            </svg>
            <p>You don't have an API key yet</p>
            <div class="api-key-register-form">
              <input type="text" id="api-key-name" placeholder="App name (optional)" maxlength="100">
              <button type="button" id="register-api-key-btn" class="btn btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="5" x2="12" y2="19"/>
                  <line x1="5" y1="12" x2="19" y2="12"/>
                </svg>
                Generate API Key
              </button>
            </div>
          </div>
        </div>

        <!-- Has key state -->
        <div id="api-key-info" class="api-key-card" style="display: none;">
          <div class="api-key-card-header">
            <div class="api-key-status active">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"/>
              </svg>
              Active
            </div>
            <button type="button" id="revoke-api-key-btn" class="btn btn-ghost btn-sm btn-danger">Revoke Key</button>
          </div>
          <div class="api-key-details">
            <div class="api-key-row">
              <span class="api-key-label">Key Prefix</span>
              <span class="api-key-value" id="api-key-prefix">--------</span>
            </div>
            <div class="api-key-row">
              <span class="api-key-label">Created</span>
              <span class="api-key-value" id="api-key-created">--</span>
            </div>
            <div class="api-key-row">
              <span class="api-key-label">Last Used</span>
              <span class="api-key-value" id="api-key-last-used">Never</span>
            </div>
            <div class="api-key-row">
              <span class="api-key-label">Requests</span>
              <span class="api-key-value" id="api-key-requests">0</span>
            </div>
          </div>
          <p class="api-key-note">Your full API key was shown only once when created. If you've lost it, revoke this key and create a new one.</p>
        </div>

        <!-- New key created state (shows full key once) -->
        <div id="api-key-created" class="api-key-card api-key-created-card" style="display: none;">
          <div class="api-key-success-header">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            <h4>API Key Created!</h4>
          </div>
          <p class="api-key-warning">Save this key now - it will only be shown once!</p>
          <div class="api-key-display">
            <code id="api-key-full"></code>
            <button type="button" id="copy-api-key-btn" class="btn btn-ghost btn-sm" title="Copy to clipboard">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
              </svg>
            </button>
          </div>
          <button type="button" id="api-key-done-btn" class="btn btn-primary">I've Saved My Key</button>
        </div>
      </div>

      <!-- API Documentation -->
      <div class="api-docs-section">
        <h3>API Endpoints</h3>
        <p>All API requests require your API key in the <code>X-API-Key</code> header.</p>

        <div class="api-endpoint">
          <div class="api-endpoint-header">
            <span class="api-method get">GET</span>
            <code class="api-path">/api/v1/community/:mint</code>
          </div>
          <p class="api-endpoint-desc">Get community content (banner, social links) for a token</p>
          <div class="api-example">
            <div class="api-example-label">Example Request</div>
            <pre><code>curl -H "X-API-Key: YOUR_KEY" \
  https://api.opendex.dev/api/v1/community/So11111111111111111111111111111111111111112</code></pre>
          </div>
          <div class="api-example">
            <div class="api-example-label">Response</div>
            <pre><code>{
  "success": true,
  "data": {
    "token": "So11111111111111111111111111111111111111112",
    "banner": {
      "url": "https://i.imgur.com/example.png",
      "score": 15
    },
    "links": {
      "twitter": { "url": "https://twitter.com/solana", "score": 12 },
      "telegram": null,
      "discord": { "url": "https://discord.gg/solana", "score": 8 },
      "website": { "url": "https://solana.com", "score": 10 }
    }
  }
}</code></pre>
          </div>
        </div>

        <div class="api-endpoint">
          <div class="api-endpoint-header">
            <span class="api-method get">GET</span>
            <code class="api-path">/api/v1/community/:mint/all</code>
          </div>
          <p class="api-endpoint-desc">Get all approved submissions for a token (not just top-voted)</p>
          <div class="api-example">
            <div class="api-example-label">Query Parameters</div>
            <pre><code>type    (optional) - Filter by type: banner, twitter, telegram, discord, website</code></pre>
          </div>
        </div>

        <div class="api-endpoint">
          <div class="api-endpoint-header">
            <span class="api-method get">GET</span>
            <code class="api-path">/api/v1/community/batch</code>
          </div>
          <p class="api-endpoint-desc">Get community content for multiple tokens at once (max 20)</p>
          <div class="api-example">
            <div class="api-example-label">Query Parameters</div>
            <pre><code>mints   (required) - Comma-separated token addresses (max 20)</code></pre>
          </div>
          <div class="api-example">
            <div class="api-example-label">Example Request</div>
            <pre><code>curl -H "X-API-Key: YOUR_KEY" \
  "https://api.opendex.dev/api/v1/community/batch?mints=mint1,mint2,mint3"</code></pre>
          </div>
        </div>

        <div class="api-endpoint">
          <div class="api-endpoint-header">
            <span class="api-method get">GET</span>
            <code class="api-path">/api/v1/keys/info</code>
          </div>
          <p class="api-endpoint-desc">Get information about your API key (usage stats, creation date)</p>
        </div>

        <h3>Rate Limits</h3>
        <p>API requests are rate limited to prevent abuse:</p>
        <ul class="api-rate-limits">
          <li><strong>100 requests/minute</strong> - Standard endpoints</li>
          <li><strong>10 requests/minute</strong> - Key registration</li>
        </ul>

        <h3>Error Codes</h3>
        <div class="api-error-codes">
          <div class="api-error-code">
            <code>401</code>
            <span>Missing or invalid API key</span>
          </div>
          <div class="api-error-code">
            <code>403</code>
            <span>API key has been revoked</span>
          </div>
          <div class="api-error-code">
            <code>429</code>
            <span>Rate limit exceeded</span>
          </div>
          <div class="api-error-code">
            <code>503</code>
            <span>Service temporarily unavailable</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2026 OpenDex - Open Source Token Viewer</p>
      <div class="footer-links">
        <a href="https://github.com/SolPenguin/opendexviewer" target="_blank">GitHub</a>
        <span class="separator">|</span>
        <a href="docs/API.md" target="_blank">API Docs</a>
      </div>
    </div>
  </footer>

  <script src="js/config.js"></script>
  <script src="js/api.js"></script>
  <script src="js/wallet.js"></script>
  <script src="js/submit.js"></script>
</body>
</html>
