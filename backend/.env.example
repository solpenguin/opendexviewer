# ===========================================
# OpenDex API Configuration
# ===========================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# ===========================================
# Database (Required)
# ===========================================
# Get this from Render when you create a PostgreSQL database
# Format: postgresql://user:password@host:5432/database
DATABASE_URL=postgresql://user:password@host:5432/database

# ===========================================
# API Keys (At least one recommended)
# ===========================================

# Helius RPC (Recommended for Solana data)
# Get a free API key from https://helius.xyz
# Used for: token metadata, on-chain data
HELIUS_API_KEY=your_helius_api_key_here

# Alternative: Direct RPC URL (if not using Helius key)
# HELIUS_RPC_URL=https://mainnet.helius-rpc.com/?api-key=YOUR_KEY

# Birdeye API (Recommended for price history and charts)
# Get a free API key from https://birdeye.so
# Enables: price history, OHLCV charts, token search, trending tokens
BIRDEYE_API_KEY=your_birdeye_api_key_here

# ===========================================
# Server Configuration
# ===========================================

# Port to run the server on (Render sets this automatically)
PORT=3000

# Environment: development, production, test
NODE_ENV=development

# CORS - comma-separated origins allowed
# In production, set to your frontend URL(s)
# Example: https://opendex-frontend.onrender.com,https://yourdomain.com
CORS_ORIGIN=http://localhost:5500,http://localhost:3000,http://127.0.0.1:5500

# ===========================================
# Rate Limiting
# ===========================================

# Global rate limit window (milliseconds)
# Default: 60000 (1 minute)
RATE_LIMIT_WINDOW_MS=60000

# Maximum requests per window (general endpoints)
# Default: 100
RATE_LIMIT_MAX_REQUESTS=100

# Strict rate limit for write operations (votes, submissions)
# Default: 20
RATE_LIMIT_STRICT_MAX=20

# Rate limit for wallet-based operations
# Default: 30
RATE_LIMIT_WALLET_MAX=30

# ===========================================
# Cache Settings
# ===========================================

# Token data cache TTL in seconds
# Default: 300 (5 minutes)
CACHE_TOKEN_TTL=300

# Price data cache TTL in seconds
# Default: 60 (1 minute)
CACHE_PRICE_TTL=60

# ===========================================
# Moderation Settings
# ===========================================

# Auto-approval threshold for submissions
# When a submission reaches this score, it's auto-approved
# Default: 5
AUTO_APPROVE_THRESHOLD=5

# Auto-reject threshold for submissions
# When a submission drops to this score, it's auto-rejected
# Default: -5
AUTO_REJECT_THRESHOLD=-5

# ===========================================
# Logging (Optional)
# ===========================================

# Log level: error, warn, info, debug
# LOG_LEVEL=info

# Enable request logging
# LOG_REQUESTS=true
